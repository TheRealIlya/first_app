--
-- PostgreSQL database dump
--

-- Dumped from database version 14.0
-- Dumped by pg_dump version 14.0

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: roles; Type: TYPE; Schema: public; Owner: ilya
--

CREATE TYPE public.roles AS ENUM (
    'ADMIN',
    'TEACHER',
    'STUDENT'
);


ALTER TYPE public.roles OWNER TO ilya;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: grade; Type: TABLE; Schema: public; Owner: ilya
--

CREATE TABLE public.grade (
    id integer NOT NULL,
    value integer NOT NULL,
    student_id integer,
    group_id integer,
    theme_id integer
);


ALTER TABLE public.grade OWNER TO ilya;

--
-- Name: grade_id_seq; Type: SEQUENCE; Schema: public; Owner: ilya
--

CREATE SEQUENCE public.grade_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.grade_id_seq OWNER TO ilya;

--
-- Name: grade_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ilya
--

ALTER SEQUENCE public.grade_id_seq OWNED BY public.grade.id;


--
-- Name: group; Type: TABLE; Schema: public; Owner: ilya
--

CREATE TABLE public."group" (
    id integer NOT NULL,
    title character varying(50) NOT NULL,
    teacher_id integer
);


ALTER TABLE public."group" OWNER TO ilya;

--
-- Name: group_id_seq; Type: SEQUENCE; Schema: public; Owner: ilya
--

CREATE SEQUENCE public.group_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.group_id_seq OWNER TO ilya;

--
-- Name: group_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ilya
--

ALTER SEQUENCE public.group_id_seq OWNED BY public."group".id;


--
-- Name: group_student; Type: TABLE; Schema: public; Owner: ilya
--

CREATE TABLE public.group_student (
    group_id integer,
    student_id integer
);


ALTER TABLE public.group_student OWNER TO ilya;

--
-- Name: group_theme; Type: TABLE; Schema: public; Owner: ilya
--

CREATE TABLE public.group_theme (
    group_id integer,
    theme_id integer
);


ALTER TABLE public.group_theme OWNER TO ilya;

--
-- Name: role; Type: TABLE; Schema: public; Owner: ilya
--

CREATE TABLE public.role (
    id integer NOT NULL,
    title public.roles
);


ALTER TABLE public.role OWNER TO ilya;

--
-- Name: role_id_seq; Type: SEQUENCE; Schema: public; Owner: ilya
--

CREATE SEQUENCE public.role_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.role_id_seq OWNER TO ilya;

--
-- Name: role_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ilya
--

ALTER SEQUENCE public.role_id_seq OWNED BY public.role.id;


--
-- Name: salary; Type: TABLE; Schema: public; Owner: ilya
--

CREATE TABLE public.salary (
    id integer NOT NULL,
    month integer NOT NULL,
    value real NOT NULL,
    teacher_id integer
);


ALTER TABLE public.salary OWNER TO ilya;

--
-- Name: salary_id_seq; Type: SEQUENCE; Schema: public; Owner: ilya
--

CREATE SEQUENCE public.salary_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.salary_id_seq OWNER TO ilya;

--
-- Name: salary_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ilya
--

ALTER SEQUENCE public.salary_id_seq OWNED BY public.salary.id;


--
-- Name: theme; Type: TABLE; Schema: public; Owner: ilya
--

CREATE TABLE public.theme (
    id integer NOT NULL,
    title character varying(50) NOT NULL
);


ALTER TABLE public.theme OWNER TO ilya;

--
-- Name: theme_id_seq; Type: SEQUENCE; Schema: public; Owner: ilya
--

CREATE SEQUENCE public.theme_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.theme_id_seq OWNER TO ilya;

--
-- Name: theme_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ilya
--

ALTER SEQUENCE public.theme_id_seq OWNED BY public.theme.id;


--
-- Name: user; Type: TABLE; Schema: public; Owner: ilya
--

CREATE TABLE public."user" (
    id integer NOT NULL,
    login character varying(50) NOT NULL,
    password bytea,
    salt bytea,
    name character varying(50) NOT NULL,
    age integer,
    role_id integer
);


ALTER TABLE public."user" OWNER TO ilya;

--
-- Name: user_id_seq; Type: SEQUENCE; Schema: public; Owner: ilya
--

CREATE SEQUENCE public.user_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.user_id_seq OWNER TO ilya;

--
-- Name: user_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ilya
--

ALTER SEQUENCE public.user_id_seq OWNED BY public."user".id;


--
-- Name: grade id; Type: DEFAULT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.grade ALTER COLUMN id SET DEFAULT nextval('public.grade_id_seq'::regclass);


--
-- Name: group id; Type: DEFAULT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public."group" ALTER COLUMN id SET DEFAULT nextval('public.group_id_seq'::regclass);


--
-- Name: role id; Type: DEFAULT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.role ALTER COLUMN id SET DEFAULT nextval('public.role_id_seq'::regclass);


--
-- Name: salary id; Type: DEFAULT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.salary ALTER COLUMN id SET DEFAULT nextval('public.salary_id_seq'::regclass);


--
-- Name: theme id; Type: DEFAULT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.theme ALTER COLUMN id SET DEFAULT nextval('public.theme_id_seq'::regclass);


--
-- Name: user id; Type: DEFAULT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public."user" ALTER COLUMN id SET DEFAULT nextval('public.user_id_seq'::regclass);


--
-- Data for Name: grade; Type: TABLE DATA; Schema: public; Owner: ilya
--

COPY public.grade (id, value, student_id, group_id, theme_id) FROM stdin;
\.


--
-- Data for Name: group; Type: TABLE DATA; Schema: public; Owner: ilya
--

COPY public."group" (id, title, teacher_id) FROM stdin;
\.


--
-- Data for Name: group_student; Type: TABLE DATA; Schema: public; Owner: ilya
--

COPY public.group_student (group_id, student_id) FROM stdin;
\.


--
-- Data for Name: group_theme; Type: TABLE DATA; Schema: public; Owner: ilya
--

COPY public.group_theme (group_id, theme_id) FROM stdin;
\.


--
-- Data for Name: role; Type: TABLE DATA; Schema: public; Owner: ilya
--

COPY public.role (id, title) FROM stdin;
1	ADMIN
2	TEACHER
3	STUDENT
\.


--
-- Data for Name: salary; Type: TABLE DATA; Schema: public; Owner: ilya
--

COPY public.salary (id, month, value, teacher_id) FROM stdin;
1	1	1715.7577	8
2	2	670.5976	8
3	3	1295.1476	8
4	4	1670.0095	8
5	5	1553.8256	8
6	6	1550.5663	8
7	7	801.6136	8
8	8	740.4297	8
9	9	1949.8181	8
10	10	939.1829	8
11	11	1544.7993	8
12	12	1073.1906	8
39	1	24.9343	13
40	2	25.334354	13
41	3	25.599337	13
42	4	25.600582	13
43	5	25.938524	13
44	6	25.370386	13
45	7	24.318157	13
46	8	25.83847	13
47	9	24.067024	13
48	10	24.221048	13
49	11	24.67664	13
50	12	25.553322	13
\.


--
-- Data for Name: theme; Type: TABLE DATA; Schema: public; Owner: ilya
--

COPY public.theme (id, title) FROM stdin;
\.


--
-- Data for Name: user; Type: TABLE DATA; Schema: public; Owner: ilya
--

COPY public."user" (id, login, password, salt, name, age, role_id) FROM stdin;
4	Admin	\\x80a40c9a73ce45deb8ac5d72ee573854c9d875b2	\\x0a7e33a057e2fe5f	Ilya	25	1
8	Mike_	\\x36168ab45aa31ed19f81162b96ed22283116bb22	\\x3fefadd5eb4cdf31	Mike	35	2
13	Mike_2	\\xc25801a0933ee6342f3198ad9b312a4ce3772a1f	\\x02092247abe4bccf	qwe	24	2
\.


--
-- Name: grade_id_seq; Type: SEQUENCE SET; Schema: public; Owner: ilya
--

SELECT pg_catalog.setval('public.grade_id_seq', 1, false);


--
-- Name: group_id_seq; Type: SEQUENCE SET; Schema: public; Owner: ilya
--

SELECT pg_catalog.setval('public.group_id_seq', 1, false);


--
-- Name: role_id_seq; Type: SEQUENCE SET; Schema: public; Owner: ilya
--

SELECT pg_catalog.setval('public.role_id_seq', 3, true);


--
-- Name: salary_id_seq; Type: SEQUENCE SET; Schema: public; Owner: ilya
--

SELECT pg_catalog.setval('public.salary_id_seq', 74, true);


--
-- Name: theme_id_seq; Type: SEQUENCE SET; Schema: public; Owner: ilya
--

SELECT pg_catalog.setval('public.theme_id_seq', 1, false);


--
-- Name: user_id_seq; Type: SEQUENCE SET; Schema: public; Owner: ilya
--

SELECT pg_catalog.setval('public.user_id_seq', 15, true);


--
-- Name: grade grade_pkey; Type: CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.grade
    ADD CONSTRAINT grade_pkey PRIMARY KEY (id);


--
-- Name: group group_pkey; Type: CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public."group"
    ADD CONSTRAINT group_pkey PRIMARY KEY (id);


--
-- Name: role role_pkey; Type: CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.role
    ADD CONSTRAINT role_pkey PRIMARY KEY (id);


--
-- Name: salary salary_pkey; Type: CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.salary
    ADD CONSTRAINT salary_pkey PRIMARY KEY (id);


--
-- Name: theme theme_pkey; Type: CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.theme
    ADD CONSTRAINT theme_pkey PRIMARY KEY (id);


--
-- Name: user user_pkey; Type: CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT user_pkey PRIMARY KEY (id);


--
-- Name: grade grade_group_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.grade
    ADD CONSTRAINT grade_group_id_fkey FOREIGN KEY (group_id) REFERENCES public."group"(id);


--
-- Name: grade grade_student_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.grade
    ADD CONSTRAINT grade_student_id_fkey FOREIGN KEY (student_id) REFERENCES public."user"(id);


--
-- Name: grade grade_theme_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.grade
    ADD CONSTRAINT grade_theme_id_fkey FOREIGN KEY (theme_id) REFERENCES public.theme(id);


--
-- Name: group_student group_student_group_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.group_student
    ADD CONSTRAINT group_student_group_id_fkey FOREIGN KEY (group_id) REFERENCES public."group"(id);


--
-- Name: group_student group_student_student_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.group_student
    ADD CONSTRAINT group_student_student_id_fkey FOREIGN KEY (student_id) REFERENCES public."user"(id);


--
-- Name: group group_teacher_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public."group"
    ADD CONSTRAINT group_teacher_id_fkey FOREIGN KEY (teacher_id) REFERENCES public."user"(id);


--
-- Name: group_theme group_theme_group_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.group_theme
    ADD CONSTRAINT group_theme_group_id_fkey FOREIGN KEY (group_id) REFERENCES public."group"(id);


--
-- Name: group_theme group_theme_theme_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.group_theme
    ADD CONSTRAINT group_theme_theme_id_fkey FOREIGN KEY (theme_id) REFERENCES public.theme(id);


--
-- Name: salary salary_teacher_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.salary
    ADD CONSTRAINT salary_teacher_id_fkey FOREIGN KEY (teacher_id) REFERENCES public."user"(id);


--
-- Name: user user_role_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT user_role_id_fkey FOREIGN KEY (role_id) REFERENCES public.role(id);


--
-- PostgreSQL database dump complete
--

