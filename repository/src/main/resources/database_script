--
-- PostgreSQL database dump
--

-- Dumped from database version 14.0
-- Dumped by pg_dump version 14.0

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: role_types; Type: TYPE; Schema: public; Owner: ilya
--

CREATE TYPE public.role_types AS ENUM (
    'ADMIN',
    'TEACHER',
    'STUDENT'
);


ALTER TYPE public.role_types OWNER TO ilya;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: grade; Type: TABLE; Schema: public; Owner: ilya
--

CREATE TABLE public.grade (
    id integer NOT NULL,
    value integer NOT NULL,
    student_id integer,
    group_id integer,
    theme_id integer
);


ALTER TABLE public.grade OWNER TO ilya;

--
-- Name: grade_id_seq; Type: SEQUENCE; Schema: public; Owner: ilya
--

CREATE SEQUENCE public.grade_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.grade_id_seq OWNER TO ilya;

--
-- Name: grade_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ilya
--

ALTER SEQUENCE public.grade_id_seq OWNED BY public.grade.id;


--
-- Name: group_s; Type: TABLE; Schema: public; Owner: ilya
--

CREATE TABLE public.group_s (
    id integer NOT NULL,
    title character varying(50) NOT NULL,
    teacher_id integer
);


ALTER TABLE public.group_s OWNER TO ilya;

--
-- Name: group_s_id_seq; Type: SEQUENCE; Schema: public; Owner: ilya
--

CREATE SEQUENCE public.group_s_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.group_s_id_seq OWNER TO ilya;

--
-- Name: group_s_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ilya
--

ALTER SEQUENCE public.group_s_id_seq OWNED BY public.group_s.id;


--
-- Name: group_student; Type: TABLE; Schema: public; Owner: ilya
--

CREATE TABLE public.group_student (
    group_id integer,
    student_id integer
);


ALTER TABLE public.group_student OWNER TO ilya;

--
-- Name: group_theme; Type: TABLE; Schema: public; Owner: ilya
--

CREATE TABLE public.group_theme (
    group_id integer,
    theme_id integer
);


ALTER TABLE public.group_theme OWNER TO ilya;

--
-- Name: roles; Type: TABLE; Schema: public; Owner: ilya
--

CREATE TABLE public.roles (
    id integer NOT NULL,
    title public.role_types
);


ALTER TABLE public.roles OWNER TO ilya;

--
-- Name: roles_id_seq; Type: SEQUENCE; Schema: public; Owner: ilya
--

CREATE SEQUENCE public.roles_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.roles_id_seq OWNER TO ilya;

--
-- Name: roles_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ilya
--

ALTER SEQUENCE public.roles_id_seq OWNED BY public.roles.id;


--
-- Name: salary; Type: TABLE; Schema: public; Owner: ilya
--

CREATE TABLE public.salary (
    id integer NOT NULL,
    salaries_key integer NOT NULL,
    value real NOT NULL,
    teacher_id integer
);


ALTER TABLE public.salary OWNER TO ilya;

--
-- Name: salary_id_seq; Type: SEQUENCE; Schema: public; Owner: ilya
--

CREATE SEQUENCE public.salary_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.salary_id_seq OWNER TO ilya;

--
-- Name: salary_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ilya
--

ALTER SEQUENCE public.salary_id_seq OWNED BY public.salary.id;


--
-- Name: theme; Type: TABLE; Schema: public; Owner: ilya
--

CREATE TABLE public.theme (
    id integer NOT NULL,
    title character varying(50) NOT NULL
);


ALTER TABLE public.theme OWNER TO ilya;

--
-- Name: theme_id_seq; Type: SEQUENCE; Schema: public; Owner: ilya
--

CREATE SEQUENCE public.theme_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.theme_id_seq OWNER TO ilya;

--
-- Name: theme_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ilya
--

ALTER SEQUENCE public.theme_id_seq OWNED BY public.theme.id;


--
-- Name: users; Type: TABLE; Schema: public; Owner: ilya
--

CREATE TABLE public.users (
    id integer NOT NULL,
    login character varying(50) NOT NULL,
    password bytea,
    salt bytea,
    name character varying(50) NOT NULL,
    age integer,
    role_id integer
);


ALTER TABLE public.users OWNER TO ilya;

--
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: ilya
--

CREATE SEQUENCE public.users_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.users_id_seq OWNER TO ilya;

--
-- Name: users_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ilya
--

ALTER SEQUENCE public.users_id_seq OWNED BY public.users.id;


--
-- Name: grade id; Type: DEFAULT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.grade ALTER COLUMN id SET DEFAULT nextval('public.grade_id_seq'::regclass);


--
-- Name: group_s id; Type: DEFAULT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.group_s ALTER COLUMN id SET DEFAULT nextval('public.group_s_id_seq'::regclass);


--
-- Name: roles id; Type: DEFAULT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.roles ALTER COLUMN id SET DEFAULT nextval('public.roles_id_seq'::regclass);


--
-- Name: salary id; Type: DEFAULT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.salary ALTER COLUMN id SET DEFAULT nextval('public.salary_id_seq'::regclass);


--
-- Name: theme id; Type: DEFAULT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.theme ALTER COLUMN id SET DEFAULT nextval('public.theme_id_seq'::regclass);


--
-- Name: users id; Type: DEFAULT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.users ALTER COLUMN id SET DEFAULT nextval('public.users_id_seq'::regclass);


--
-- Data for Name: grade; Type: TABLE DATA; Schema: public; Owner: ilya
--

COPY public.grade (id, value, student_id, group_id, theme_id) FROM stdin;
2	4	18	2	3
3	7	20	1	1
4	3	20	2	1
1	8	20	1	1
5	9	20	1	4
8	7	18	1	1
9	9	18	1	4
\.


--
-- Data for Name: group_s; Type: TABLE DATA; Schema: public; Owner: ilya
--

COPY public.group_s (id, title, teacher_id) FROM stdin;
1	11 A	5
2	10 C	\N
\.


--
-- Data for Name: group_student; Type: TABLE DATA; Schema: public; Owner: ilya
--

COPY public.group_student (group_id, student_id) FROM stdin;
1	20
2	18
2	20
1	18
\.


--
-- Data for Name: group_theme; Type: TABLE DATA; Schema: public; Owner: ilya
--

COPY public.group_theme (group_id, theme_id) FROM stdin;
1	1
1	2
1	4
2	1
2	3
\.


--
-- Data for Name: roles; Type: TABLE DATA; Schema: public; Owner: ilya
--

COPY public.roles (id, title) FROM stdin;
0	ADMIN
1	TEACHER
2	STUDENT
\.


--
-- Data for Name: salary; Type: TABLE DATA; Schema: public; Owner: ilya
--

COPY public.salary (id, salaries_key, value, teacher_id) FROM stdin;
133	1	244.22289	22
134	2	306.22543	22
135	3	359.78427	22
136	4	420.1961	22
137	5	366.4316	22
138	6	400.25784	22
139	7	257.92358	22
140	8	392.7689	22
141	9	293.71335	22
142	10	343.67413	22
143	11	251.28093	22
144	12	372.84097	22
25	1	1465.3074	5
26	2	1476.4669	5
27	3	1345.0066	5
28	4	1225.3776	5
29	5	1924.9646	5
30	6	1342.4946	5
31	7	1688.5594	5
32	8	315.24066	5
33	9	764.06866	5
34	10	1002.4911	5
35	11	940.02875	5
36	12	1969.7197	5
\.


--
-- Data for Name: theme; Type: TABLE DATA; Schema: public; Owner: ilya
--

COPY public.theme (id, title) FROM stdin;
1	Math
2	English
3	Java
4	PE
\.


--
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: ilya
--

COPY public.users (id, login, password, salt, name, age, role_id) FROM stdin;
5	Mike_	\\x46a4ec1b0dbb53761ff5d9b2468f96dea50aca65	\\xc197cb36cf178739	Mike	35	1
18	Stud	\\xfe69c0edebc3c41adb3dddcb85c71445b2d3f70e	\\xaebec1d3df2ce5b4	Dan	20	2
19	Admin	\\xc059a27cdfe7f489bf2f65a53bdbb6f8d64615c3	\\x0f37a17f39a7c905	Ilya	25	0
20	Stud2	\\x31037c84fc700937f0a8f5768308abca171c537f	\\xc0232cfb9d079c64	a	24	2
22	Mike_2	\\xa990d34eea1bdbf9c7b66c3b59ac656c6de0699d	\\x40b38e166b42830e	M2	99	1
\.


--
-- Name: grade_id_seq; Type: SEQUENCE SET; Schema: public; Owner: ilya
--

SELECT pg_catalog.setval('public.grade_id_seq', 9, true);


--
-- Name: group_s_id_seq; Type: SEQUENCE SET; Schema: public; Owner: ilya
--

SELECT pg_catalog.setval('public.group_s_id_seq', 2, true);


--
-- Name: roles_id_seq; Type: SEQUENCE SET; Schema: public; Owner: ilya
--

SELECT pg_catalog.setval('public.roles_id_seq', 3, true);


--
-- Name: salary_id_seq; Type: SEQUENCE SET; Schema: public; Owner: ilya
--

SELECT pg_catalog.setval('public.salary_id_seq', 144, true);


--
-- Name: theme_id_seq; Type: SEQUENCE SET; Schema: public; Owner: ilya
--

SELECT pg_catalog.setval('public.theme_id_seq', 4, true);


--
-- Name: users_id_seq; Type: SEQUENCE SET; Schema: public; Owner: ilya
--

SELECT pg_catalog.setval('public.users_id_seq', 22, true);


--
-- Name: grade grade_pkey; Type: CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.grade
    ADD CONSTRAINT grade_pkey PRIMARY KEY (id);


--
-- Name: group_s group_s_pkey; Type: CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.group_s
    ADD CONSTRAINT group_s_pkey PRIMARY KEY (id);


--
-- Name: roles roles_pkey; Type: CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.roles
    ADD CONSTRAINT roles_pkey PRIMARY KEY (id);


--
-- Name: salary salary_pkey; Type: CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.salary
    ADD CONSTRAINT salary_pkey PRIMARY KEY (id);


--
-- Name: theme theme_pkey; Type: CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.theme
    ADD CONSTRAINT theme_pkey PRIMARY KEY (id);


--
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- Name: grade grade_group_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.grade
    ADD CONSTRAINT grade_group_id_fkey FOREIGN KEY (group_id) REFERENCES public.group_s(id);


--
-- Name: grade grade_student_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.grade
    ADD CONSTRAINT grade_student_id_fkey FOREIGN KEY (student_id) REFERENCES public.users(id);


--
-- Name: grade grade_theme_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.grade
    ADD CONSTRAINT grade_theme_id_fkey FOREIGN KEY (theme_id) REFERENCES public.theme(id);


--
-- Name: group_s group_s_teacher_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.group_s
    ADD CONSTRAINT group_s_teacher_id_fkey FOREIGN KEY (teacher_id) REFERENCES public.users(id);


--
-- Name: group_student group_student_group_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.group_student
    ADD CONSTRAINT group_student_group_id_fkey FOREIGN KEY (group_id) REFERENCES public.group_s(id);


--
-- Name: group_student group_student_student_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.group_student
    ADD CONSTRAINT group_student_student_id_fkey FOREIGN KEY (student_id) REFERENCES public.users(id);


--
-- Name: group_theme group_theme_group_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.group_theme
    ADD CONSTRAINT group_theme_group_id_fkey FOREIGN KEY (group_id) REFERENCES public.group_s(id);


--
-- Name: group_theme group_theme_theme_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.group_theme
    ADD CONSTRAINT group_theme_theme_id_fkey FOREIGN KEY (theme_id) REFERENCES public.theme(id);


--
-- Name: salary salary_teacher_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.salary
    ADD CONSTRAINT salary_teacher_id_fkey FOREIGN KEY (teacher_id) REFERENCES public.users(id);


--
-- Name: users users_role_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: ilya
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_role_id_fkey FOREIGN KEY (role_id) REFERENCES public.roles(id);


--
-- PostgreSQL database dump complete
--

